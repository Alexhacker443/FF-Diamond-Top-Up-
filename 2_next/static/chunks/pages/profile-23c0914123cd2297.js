(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{883:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(9486)}])},9486:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return g}});var t=r(5893),a=r(9008),l=r(7294),n=r(4713),i=r(8767),o=r(1163),d=r(3513),c=r(5919),u=r(5179),m=r(7516),p=r(1907);var x=function(e){var s=e.data,r=e.error,a=e.loading,l=e.size,n=void 0===l?25:l;return a||0!==s&&"0"!==s||r?(0,t.jsxs)("span",{className:"_flex_center",children:[a&&(0,t.jsx)(p.Z,{size:n}),!s&&!a&&!r&&(0,t.jsx)(m.wTD,{size:n}),r&&!a&&(0,t.jsx)(m.I2T,{color:"red",size:n})]}):null},f=r(2947),h=r(7537);function _(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}var v=Math.floor(5*Math.random()+1);var b=function(){var e=(0,o.useRouter)(),s=(0,l.useContext)(f.globalContext),r=s.authUser,a=s.updateAuthUserInfo,n=r.avatar,m=r.username,p=r.email,b=r.wallet,j=(0,i.useQuery)("user-profile",d.et,c.Z).data;(0,l.useEffect)((function(){j&&a(j)}),[j,a]);var g=(0,i.useQuery)("get-user-orders",d.uI,function(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(s){_(e,s,r[s])}))}return e}({},c.Z,{select:function(e){for(var s=0,r=e.data.data,t=0;t<r.length;t++)"completed"===r[t].status&&(s+=parseFloat(r[t].amount));return{totalSpent:s,totalOrder:r.length}}})),N=g.data,w=g.isLoading,y=g.isError,O=g.error;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("section",{className:"mb-7",children:[(0,t.jsx)("div",{className:"md:container",style:{backgroundImage:"\n            linear-gradient(0deg, black, transparent),\n            url(/profile-banners/".concat(v,".jpg)\n          "),backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:(0,t.jsx)("div",{className:"flex flex-col md:flex-row justify-center items-center md:items-end md:justify-between pt-20 pb-5",children:(0,t.jsxs)("div",{className:"flex flex-col items-center sm:flex-row md:items-end gap-4 md:gap-5 mb-6 md:mb-0",children:[(0,t.jsx)("div",{className:"rounded-full p-1 md:-mb-8 bg-white inline-block",children:(0,t.jsx)(u.Z,{size:120,src:n||null,text:m[0],className:"bg-gray-300"})}),(0,t.jsxs)("div",{className:"text-center md:text-left",children:[(0,t.jsx)("h4",{className:"_h4 text-white",children:m}),(0,t.jsx)("p",{className:"text-white/80 _subtitle2",children:p}),(0,t.jsx)("button",{onClick:function(){e.push(h.Z.settings.name)},className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"Settings"})]})]})})}),(0,t.jsx)("div",{className:"container md:!px-0 mt-5 md:mt-7",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-[auto,350px] gap-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 xxs:grid-cols-2 lg:!grid-cols-4 gap-5 md:gap-7",children:[(0,t.jsx)("div",{className:"_profile_stats_wrapper",children:(0,t.jsxs)("div",{className:"_profile_stats_box pl-0",children:[(0,t.jsx)("p",{className:"_profile_stats_title",children:null===r||void 0===r?void 0:r.id}),(0,t.jsx)("p",{className:"_body2 font-semibold",children:"User Id"})]})}),(0,t.jsx)("div",{className:"_profile_stats_wrapper",children:(0,t.jsxs)("div",{className:"_profile_stats_box pl-0",children:[(0,t.jsxs)("p",{className:"_profile_stats_title",children:["\u09f3 ",b]}),(0,t.jsx)("p",{className:"_body2 font-semibold",children:"Total Wallet"})]})}),(0,t.jsx)("div",{className:"_profile_stats_wrapper",children:(0,t.jsxs)("div",{className:"_profile_stats_box",children:[(0,t.jsxs)("p",{className:"_profile_stats_title",children:[(0,t.jsx)(x,{data:null===N||void 0===N?void 0:N.totalSpent,loading:w,error:y&&O}),(null===N||void 0===N?void 0:N.totalSpent)&&"\u09f3 "+(null===N||void 0===N?void 0:N.totalSpent)]}),(0,t.jsx)("p",{className:"_body2 font-semibold",children:"Total Spent"})]})}),(0,t.jsx)("div",{className:"_profile_stats_wrapper",children:(0,t.jsxs)("div",{className:"_profile_stats_box",children:[(0,t.jsxs)("p",{className:"_profile_stats_title",children:[(0,t.jsx)(x,{data:null===N||void 0===N?void 0:N.totalOrder,loading:w,error:y&&O}),null===N||void 0===N?void 0:N.totalOrder]}),(0,t.jsx)("p",{className:"_body2 font-semibold",children:"Total Order"})]})})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-md",children:[(0,t.jsx)("h6",{className:"_h6 py-2 px-4 border-b bg-gray-50 border-gray-200",children:"User Info"}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("p",{className:"_subtitle1",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",null===r||void 0===r?void 0:r.phone]})})]})]})})]})})},j=r(4811);var g=function(){var e,s=(0,l.useState)(""),r=s[0],i=s[1];(0,l.useEffect)((function(){var e=window.location.host.replace("www.","").replace(".com","");i(e)}),[]);var o=(0,l.useContext)(f.globalContext);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{children:(null===o||void 0===o?void 0:o.authUser)&&r&&(0,t.jsxs)("title",{children:[null===o||void 0===o||null===(e=o.authUser)||void 0===e?void 0:e.username," ",j.fg[r].__page_title_end]})}),(0,t.jsx)(n.Z,{children:(0,t.jsx)(b,{})})]})}}},function(e){e.O(0,[774,888,179],(function(){return s=883,e(e.s=s);var s}));var s=e.O();_N_E=s}]);